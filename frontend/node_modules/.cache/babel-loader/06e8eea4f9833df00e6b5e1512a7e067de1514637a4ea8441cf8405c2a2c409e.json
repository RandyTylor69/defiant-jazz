{"ast":null,"code":"// Imports Axios\nconst axios = require(\"axios\");\n\n// Downloads composers (JSON)\nexports.composers = async function (start, amount) {\n  // Creates array of JSON elements\n  var composerList = [];\n\n  // Gets as many as 'amount'\n  for (var i = 0; i < amount; i++) {\n    // Creates HTTP request to ISMLP API\n    axios.get(`https://imslp.org/imslpscripts/API.ISCR.php?account=worklist/disclaimer=accepted/sort=id/type=1/start=${start + i}/retformat=json`).then(function (response) {\n      // Creates a new JSON object\n      var obj = {\n        id: \"\",\n        name: \"\",\n        link: \"\"\n      };\n\n      // Adds data\n      obj.id = response.data[0].id;\n      obj.name = response.data[0].id.replace(/Category:/, \"\");\n      obj.link = response.data[0].permlink;\n\n      // Pushes the object to the array\n      composerList.push(obj);\n    }).catch(function (error) {\n      return console.error(error);\n    }).finally(() => {\n      // Returns the array when done\n      if (composerList.length === amount) return composerList;\n    });\n  }\n};","map":{"version":3,"names":["axios","require","exports","composers","start","amount","composerList","i","get","then","response","obj","id","name","link","data","replace","permlink","push","catch","error","console","finally","length"],"sources":["C:/UWO/Summer-Projects/Backend-as-well/defiant-jazz/frontend/node_modules/imslp-api/scripts/composers.js"],"sourcesContent":["// Imports Axios\nconst axios = require(\"axios\");\n\n// Downloads composers (JSON)\nexports.composers = async function (start, amount) {\n  // Creates array of JSON elements\n  var composerList = [];\n\n  // Gets as many as 'amount'\n  for (var i = 0; i < amount; i++) {\n    // Creates HTTP request to ISMLP API\n    axios\n      .get(\n        `https://imslp.org/imslpscripts/API.ISCR.php?account=worklist/disclaimer=accepted/sort=id/type=1/start=${\n          start + i\n        }/retformat=json`\n      )\n      .then(function (response) {\n        // Creates a new JSON object\n        var obj = {\n          id: \"\",\n          name: \"\",\n          link: \"\",\n        };\n\n        // Adds data\n        obj.id = response.data[0].id;\n        obj.name = response.data[0].id.replace(/Category:/, \"\");\n        obj.link = response.data[0].permlink;\n\n        // Pushes the object to the array\n        composerList.push(obj);\n      })\n      .catch(function (error) {\n        return console.error(error);\n      })\n      .finally(() => {\n        // Returns the array when done\n        if (composerList.length === amount) return composerList;\n      });\n  }\n};\n"],"mappings":"AAAA;AACA,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC;;AAE9B;AACAC,OAAO,CAACC,SAAS,GAAG,gBAAgBC,KAAK,EAAEC,MAAM,EAAE;EACjD;EACA,IAAIC,YAAY,GAAG,EAAE;;EAErB;EACA,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,EAAEE,CAAC,EAAE,EAAE;IAC/B;IACAP,KAAK,CACFQ,GAAG,CACF,yGACEJ,KAAK,GAAGG,CAAC,iBAEb,CAAC,CACAE,IAAI,CAAC,UAAUC,QAAQ,EAAE;MACxB;MACA,IAAIC,GAAG,GAAG;QACRC,EAAE,EAAE,EAAE;QACNC,IAAI,EAAE,EAAE;QACRC,IAAI,EAAE;MACR,CAAC;;MAED;MACAH,GAAG,CAACC,EAAE,GAAGF,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAACH,EAAE;MAC5BD,GAAG,CAACE,IAAI,GAAGH,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAACH,EAAE,CAACI,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;MACvDL,GAAG,CAACG,IAAI,GAAGJ,QAAQ,CAACK,IAAI,CAAC,CAAC,CAAC,CAACE,QAAQ;;MAEpC;MACAX,YAAY,CAACY,IAAI,CAACP,GAAG,CAAC;IACxB,CAAC,CAAC,CACDQ,KAAK,CAAC,UAAUC,KAAK,EAAE;MACtB,OAAOC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;IAC7B,CAAC,CAAC,CACDE,OAAO,CAAC,MAAM;MACb;MACA,IAAIhB,YAAY,CAACiB,MAAM,KAAKlB,MAAM,EAAE,OAAOC,YAAY;IACzD,CAAC,CAAC;EACN;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}